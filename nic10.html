<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <title>Nagapattinam Hospital Mapper</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <style>
      #map {
        height: 600px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <nav>
        <div class="nav__logo">MEDHELP</div>
        <ul class="nav__links">
          <li class="link"><a href="#">Home</a></li>
          <li class="link"><a href="#about">About</a></li>
          <li class="link"><a href="#foot">Usefull links</a></li>
          <li class="link"><a href="#maps">View Map</a></li>
          <li class="link"><a href="#">Blog</a></li>
          <li class="link"><a href="#foot">Contact</a></li>
        </ul>
        <button class="btn">Locate</button>
      </nav>
      <header class="header">
        <div class="content">
          <h1><span>Get Quick</span><br />Hospital Locator</h1>
          <p>
            This Hospital Locator web application serves the purpose of aiding residents and visitors in Nagapattinam district to easily locate hospitals and healthcare facilities within their vicinity. By providing a user-friendly interface, individuals can quickly access information about nearby hospitals, including their names and distances.</p>
          <button class="btn">Get Services</button>
        </div>
        <div class="image">
          <span class="image__bg"></span>
          <img
            src="/WhatsApp Image 2024-04-25 at 22.08.56_824cd643.jpg"
            alt="header image"
          />
        </div>
      </header>
    </div>
    <section id="head">
    <button class="btn">ABOUT THE HOSPITALS IN NAGAPATTINAM</button>
    </section>
    <section id="about">
       <div class="cards">
      <!-- Card 1 -->
      <div class="cards">
        <!-- Card 1 -->
        <input type="radio" name="card" id="card1" class="card-input" />
        <label class="card" for="card1">
          <div class="text">
            <h1>Nagapattinam Government Headquarters Hospital</h1>
            <p>
              A government-run hospital providing comprehensive healthcare services to the community. Specializes in general medicine, surgery, pediatrics, and obstetrics.
            </p>
          </div>
          <div class="number">1</div>
          <img src="/vilaggazdasag_doctor_in_a_futuristic_hospital_with_a_big_AI_ter_83bfa209-d030-4cfd-89fa-52541a0cf6dc-768x439.png" alt="" />
        </label>
      
        <!-- Card 2 -->
        <input type="radio" name="card" id="card2" class="card-input" />
        <label class="card" for="card2">
          <div class="text">
            <h1>Naagai Hospital</h1>
            <p>
              A specialized healthcare facility dedicated to women's health and maternity care. Renowned for its compassionate approach and expert medical team.
            </p>
          </div>
          <div class="number">2</div>
          <img src="/vilaggazdasag_doctor_in_a_futuristic_hospital_with_a_big_AI_ter_ea52b551-7fa6-47b4-ae20-7168324bda74.png" alt="" />
        </label>
      
        <!-- Repeat the above structure for the next 18 cards -->
      
        <!-- Card 3 -->
        <input type="radio" name="card" id="card3" class="card-input" />
        <label class="card" for="card3">
          <div class="text">
            <h1>NSS Hospital</h1>
            <p>
              A leading private hospital offering advanced medical services including cardiology, oncology, and neurology. Known for its state-of-the-art facilities and skilled medical professionals.
            </p>
          </div>
          <div class="number">3</div>
          <img src="/futuristic-healthcare-room-at-modern-hospital-ai-generated-photo.jpg" alt="" />
        </label>
      
        <!-- Card 4 -->
        <input type="radio" name="card" id="card4" class="card-input" />
        <label class="card" for="card4">
          <div class="text">
            <h1>SS Hospital</h1>
            <p>
              A multispecialty hospital providing comprehensive healthcare services, including emergency care, surgery, and diagnostics. Equipped with modern technology and skilled medical staff.
            </p>
          </div>
          <div class="number">4</div>
          <img src="/orqi8x0p.bmp" alt="" />
        </label>
      
        <!-- Card 5 -->
        <input type="radio" name="card" id="card5" class="card-input" />
        <label class="card" for="card5">
          <div class="text">
            <h1>Sri Venkateswara Hospital</h1>
            <p>
              Information about Sri Venkateswara Hospital in Nagapattinam, Tamil Nadu. The information includes contact details like phone numbers, emails, contact person and directions to hospital or clinic
            </p>
          </div>
          <div class="number">5</div>
          <img src="/khdwq4x5.bmp" alt="" />
        </label>
      
        <!-- Card 6 -->
        <input type="radio" name="card" id="card6" class="card-input" />
        <label class="card" for="card6">
          <div class="text">
            <h1>Govt Hospital</h1>
            <p>
              a hospital which is government owned and is fully funded by the government and operates solely off the money that is collected from taxpayers to fund healthcare initiatives.
            </p>
          </div>
          <div class="number">6</div>
          <img src="/w41hsue2.bmp" alt="" />
        </label>
      
        <!-- Card 7 -->
        <input type="radio" name="card" id="card7" class="card-input" />
        <label class="card" for="card7">
          <div class="text">
            <h1>AMK Hospital Nagapattinam</h1>
            <p>
              Amk Hospital is a hospital in Nagapattinam, Tamil Nadu. Amk Hospital is situated nearby to the hospitals V.P.N. Eye Hospital and Dr.A. Ansari Hospital.
            </p>
          </div>
          <div class="number">7</div>
          <img src="/khxvl5cj.bmp" alt="" />
        </label>
      
        <!-- Card 8 -->
        <input type="radio" name="card" id="card8" class="card-input" />
        <label class="card" for="card8">
          <div class="text">
            <h1>Park Hospital</h1>
            <p>
              Park Group of Hospitals is one of the fastest growing chain in North India with a network of 15 hospitals to provide highly advanced healthcare services.
            </p>
          </div>
          <div class="number">8</div>
          <img src="/stnhoblw.bmp" alt="" />
        </label>
      
        <!-- Card 9 -->
        <input type="radio" name="card" id="card9" class="card-input" />
        <label class="card" for="card9">
          <div class="text">
            <h1>Pentagon Hospital</h1>
            <p>
              It is known to provide top service in the following categories: Paediatricians, Hospitals, Neurologists, Gynaecologist & Obstetrician Doctors.
            </p>
          </div>
          <div class="number">9</div>
          <img src="/o0ju6t8r.bmp" alt="" />
        </label>
      
        <!-- Card 10 -->
        <input type="radio" name="card" id="card10" class="card-input" />
        <label class="card" for="card10">
          <div class="text">
            <h1>Psk Hospital</h1>
            <p>
              PSK Building offers you general care, treatment and healing services. 
            </p>
          </div>
          <div class="number">10</div>
          <img src="/1ha3lqhs.bmp" alt="" />
        </label>
      
        <!-- Card 11 -->
        <input type="radio" name="card" id="card11" class="card-input" />
        <label class="card" for="card11">
          <div class="text">
            <h1>Ansari Hospital</h1>
            <p>
              ANSARI HOSPITAL was launched by Dr. I. A. Ansari back in year 2004 and since then, it has become one of the leading referral centers.
            </p>
          </div>
          <div class="number">11</div>
          <img src="/lcwgh7ph.bmp" alt="" />
        </label>
      
        <!-- Card 12 -->
        <input type="radio" name="card" id="card12" class="card-input" />
        <label class="card" for="card12">
          <div class="text">
            <h1>Sri Harini Hospital</h1>
            <p>
              Sri Harini Hospital is located in Nagapattinam. Dr. S Senthilkumar MD Dr S Kausalya MBBS DA S Sai Harini MBBS Dr. M Amutham MS Surgeon are the main doctors.
            </p>
          </div>
          <div class="number">12</div>
          <img src="/images.jpeg" alt="" />
        </label>
      
        <!-- Card 13 -->
        <input type="radio" name="card" id="card13" class="card-input" />
        <label class="card" for="card13">
          <div class="text">
            <h1>Srivaris Hospital</h1>
            <p>
              By combining excellent care with a state-of-the-art facility we strive to provide you with quality health care. We thank you for your interest in our services and the trust you have placed in us.
            </p>
          </div>
          <div class="number">13</div>
          <img src="/k3larwhm.bmp" alt="" />
        </label>
      
        <!-- Card 14 -->
        <input type="radio" name="card" id="card14" class="card-input" />
        <label class="card" for="card14">
          <div class="text">
            <h1>Nagai Sri Muthukumarn Multi Hospital</h1>
            <p>A Muthukumaran (Srinivasan Hospital) in Nagapattinam Ho, Nagapattinam. Paediatricians are responsible for understanding the specific needs of a growing child.
                         </p>
          </div>
          <div class="number">14</div>
          <img src="/0flc5oi0.bmp" alt="" />
        </label>
      
        <!-- Card 15 -->
        <input type="radio" name="card" id="card15" class="card-input" />
        <label class="card" for="card15">
          <div class="text">
            <h1>Nagai Head Hospital</h1>
            <p>
              The person who leads a hospital is typically called the CEO (Chief Executive Officer) or the hospital administrator. The CEO is responsible for overseeing the day-to-day operations of the hospital, managing the hospital staff, ensuring patient care, and developing and implementing hospital policies and procedures
            </p>
          </div>
          <div class="number">15</div>
          <img src="/cb17flok.bmp" alt="" />
        </label>
      
        <!-- Card 16 -->
        <input type="radio" name="card" id="card16" class="card-input" />
        <label class="card" for="card16">
          <div class="text">
            <h1>Arthur's Hospital</h1>
            <p>
              Arthurs Hospital was established in the year 1996 and since then has been providing the best treatment and services. It offers various services such as Obstetrics Problems.
            </p>
          </div>
          <div class="number">16</div>
          <img src="/b0pwx98m.bmp" alt="" />
        </label>
      
        <!-- Card 17 -->
        <input type="radio" name="card" id="card17" class="card-input" />
        <label class="card" for="card17">
          <div class="text">
            <h1>Dr. Chandrasekar Hospital</h1>
            <p>
              aediatricians are responsible for understanding the specific needs of a growing child. These doctors are expert in diagnosing and treating health issues
            </p>
          </div>
          <div class="number">17</div>
          <img src="/futuristic-healthcare-room-at-modern-hospital-ai-generated-photo.jpg" alt="" />
        </label>
      
        <!-- Card 18 -->
        <input type="radio" name="card" id="card18" class="card-input" />
        <label class="card" for="card18">
          <div class="text">
            <h1>Nagai Government Hospital</h1>
            <p>
              Elancheran Nagar, Nagapattinam Tamil Nadu 611001 </p>
          </div>
          <div class="number">18</div>
          <img src="/innnfol2.bmp" alt="" />
        </label>
    </div>
    
      
    </div>
    </section>
    <section id="head">
      <button class="btn">VISUALIZATION OF PROJECT</button>
      </section>
    <section id="maps">
    <div id="map"></div>
    <div>
      <label for="locator">Locator (Drag to Move): </label>
      <input type="text" id="locator" readonly />
      <button onclick="addImaginaryHospitals()">Add Imaginary Hospitals</button>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
      const hospitals = [
        {
          hospital: "Naagai Hospital",
          pincode: 611106,
          latlng: [10.757, 79.8259],
          website:
            "https://www.justdial.com/Nagapattinam/Nagai-Hospital-Near-Anna-Church-Opposite-Statue-and-Mangal-Mahal-Manjakollai/9999PMULCHNSTD2100013_BZDET",
        },
        {
          hospital: "Sri Venkateswara Hospital",
          pincode: 611001,
          latlng: [10.7607, 79.8426],
          website:
            "https://www.justdial.com/Nagapattinam/Sri-Venkateswara-Hospital-Near-Keerai-Kadai-Mariamman-Kovil/9999P4364-4364-110224132745-D6C5_BZDET",
        },
        {
          hospital: "Govt Hospital",
          pincode: 611002,
          latlng: [10.7583, 79.8265], // Adjusted coordinates
          website: "https://example.com/govt-hospital",
        },
        {
          hospital: "Pentagon hospital",
          pincode: 611003,
          latlng: [10.764, 79.8408],
          website:
            "https://www.justdial.com/Nagapattinam/Pentagon-Hospital-Near-LIC-Office-Nagapattinam-Ho/9999P4365-4365-110107164116-Z1C8_BZDET",
        },
        {
          hospital: "Ansari Hospital",
          pincode: 611001,
          latlng: [10.7644, 79.845],
          website:
            "https://www.justdial.com/Nagapattinam/Ansari-Hospital-Pvt-Ltd-Opposite-Apollo-Pharmacy-Nagapattinam-Ho/9999P4365-4365-1235834175I6B5C5-DC_BZDET",
        },
        {
          hospital: "Srivaris Hospital",
          pincode: 611003,
          latlng: [10.7624, 79.8412], // Adjusted coordinates
          website:
            "https://www.justdial.com/Nagapattinam/Srivaris-Hospital-Nagapattinam-Collectorate/9999P4365-4365-210212004510-W5H7_BZDET",
        },
        {
          hospital: "NAGAI HEAD HOSPITAL",
          pincode: 611001,
          latlng: [10.7732, 79.8439],
          website:
            "https://www.nagapattinam.nic.in/public-utility/government-district-head-quarters-hospital/",
        },
        {
          hospital: "Dr. Chandrasekar Hospital",
          pincode: 611001,
          latlng: [10.7765, 79.8382], // Adjusted coordinates
          website:
            "https://www.justdial.com/Nagapattinam/Dr-Chandrasekaran-Hospital-Sivan-Chetty-Street/9999P4365-4365-101225112151-A6H4_BZDET",
        },
        {
          hospital: "Government Medical College and Hospital",
          pincode: 611108,
          latlng: [10.7181, 79.8051],
          website: "https://www.gmcnagai.ac.in/",
        },
        // Add other hospitals here
      ];

      var map = L.map("map").setView([10.757, 79.8259], 13);

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        attribution:
          '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
      }).addTo(map);

      // Array to store circles
      const circles = [];
      const imaginaryHospitals = [];
      const hospitalMarkers = []; // Array to store hospital markers

      hospitals.forEach((hospital, index) => {
        const latlng = hospital.latlng;
        const marker = L.marker(latlng).addTo(map);
        hospitalMarkers.push(marker); // Push marker to hospitalMarkers array
        const circle = L.circle(latlng, { radius: 500 }).addTo(map);
        circles.push(circle);
        marker.bindPopup(getPopupContent(hospital)).openPopup();
        marker.on("click", function () {
          window.open(hospital.website, "_blank");
        });
      });

      // Create a draggable locator marker with a red icon
      var redIcon = L.icon({
        iconUrl: "red-marker.png",
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
      });

      var locatorMarker = L.marker([10.757, 79.8259], {
        draggable: true,
        icon: redIcon,
      }).addTo(map);

      locatorMarker.on("drag", function (event) {
        const coords = event.target.getLatLng();
        const allHospitals = hospitals.concat(imaginaryHospitals); // Combine original and imaginary hospitals
        const closestHospitals = findClosestHospitals(coords, allHospitals);
        let popupContent = "";
        closestHospitals.forEach((hospital, index) => {
          popupContent += `<div onclick="navigateToHospital(${index})">${
            index + 1
          }. <a href="#">${hospital.hospital}</a> (${hospital.distance.toFixed(
            2
          )} meters)</div>`;
        });
        locatorMarker.bindPopup(popupContent).openPopup();
        document.getElementById(
          "locator"
        ).value = `Latitude: ${coords.lat}, Longitude: ${coords.lng}`;
      });

      // Function to find the top three closest hospitals
      function findClosestHospitals(coords, hospitalsArray) {
        const sortedHospitals = hospitalsArray
          .map((hospital) => ({
            ...hospital,
            distance: L.latLng(hospital.latlng).distanceTo(coords),
          }))
          .sort((a, b) => a.distance - b.distance);
        return sortedHospitals.slice(0, 3);
      }

      // Function to generate the popup content for a hospital marker
      function getPopupContent(hospital) {
        let popupContent = `<strong><a href="${hospital.website}" target="_blank">${hospital.hospital}</a></strong><br>`;
        popupContent += `Website: <a href="${hospital.website}" target="_blank">${hospital.website}</a><br>`;
        if (hospital.imaginary) {
          popupContent += `<button onclick="removeHospital('${hospital.hospital}')">Remove Hospital</button>`;
        }
        return popupContent;
      }

      // Function to remove an imaginary hospital
      function removeHospital(name) {
        const index = imaginaryHospitals.findIndex(
          (hospital) => hospital.hospital === name
        );
        if (index !== -1) {
          map.removeLayer(imaginaryHospitals[index].marker);
          map.removeLayer(imaginaryHospitals[index].circle);
          imaginaryHospitals.splice(index, 1);
        }
      }

      // Function to add imaginary hospitals
      function addImaginaryHospitals() {
        alert("Click on the map to place imaginary hospitals.");
        map.on("click", function (event) {
          const latlng = event.latlng;
          let isOverlap = false;
          const hospitalName = prompt("Enter hospital name:");
          if (hospitalName) {
            const newHospital = {
              hospital: hospitalName,
              latlng: [latlng.lat, latlng.lng],
              imaginary: true,
            };
            for (const hospital of hospitals.concat(imaginaryHospitals)) {
              const distance = L.latLng(hospital.latlng).distanceTo(latlng);
              if (distance <= 500) {
                alert(
                  "Warning: The new hospital is within the radius of an existing hospital."
                );
                isOverlap = true;
                break;
              }
            }
            if (!isOverlap) {
              const marker = L.marker(latlng).addTo(map);
              const circle = L.circle(latlng, { radius: 500 }).addTo(map);
              circles.push(circle);
              newHospital.marker = marker;
              newHospital.circle = circle;
              marker.bindPopup(getPopupContent(newHospital)).openPopup();
              marker.on("click", function () {
                window.open(newHospital.website, "_blank");
              });
              imaginaryHospitals.push(newHospital);
            }
          }
        });
      }

      // Function to navigate from source to destination using Google Maps Directions API
      function navigateToHospital(hospitalIndex) {
        const destination = hospitalMarkers[hospitalIndex].getLatLng();
        const source = locatorMarker.getLatLng();
        const url = `https://www.google.com/maps/dir/${source.lat},${source.lng}/${destination.lat},${destination.lng}`;
        window.location.href = url;
      }
    </script>
    </section>
  </body>
  <body>
    <section id="foot">
      <footer>
        <div class="footer-container">
          <div class="contact-info">
            <h2>Contact Us</h2>
            <p>Email: example@example.com</p>
            <p>Phone: +1234567890</p>
          </div>
          <div class="useful-links">
            <h2>Useful Links</h2>
            <ul>
              <li><a href="#">About Us</a></li>
              <li><a href="#">Services</a></li>
              <li><a href="#">FAQs</a></li>
              <li><a href="#">Privacy Policy</a></li>
            </ul>
          </div>
        </div>
      </footer>
      </section>
  </body>
</html>
